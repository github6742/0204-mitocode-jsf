<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head></h:head>
    <body>
        <!--<h:outputLabel value="USTED NO HA INICIADO SESION" rendered={usuarioBean.verificarSesion()}"/>-->
        <h:form rendered="#{usuarioBean.verificarSesion()}">            
            <h:panelGrid columns="2">
                <h1>Bienvenido Usuario</h1>
                <h:outputLabel value="#{usuarioBean.usuario.nombre}"/>
                <h:commandButton value="Cerrar Sesion" action="#{usuarioBean.cerrarSession()}"/>
            </h:panelGrid>

      <h2>CRUD - EMPLEADOS</h2>         
            <h:panelGrid columns="2">

                <h:outputLabel value="Nombre" />
                <h:inputText value="#{empleadoBean.empleado.nombres}" />

                <h:outputLabel value="Apellidos" />
                <h:inputText value="#{empleadoBean.empleado.apellidos}" />

                <h:outputLabel value="Sexo" />
                <h:selectOneMenu value="#{empleadoBean.empleado.sexo}" >
                    <f:selectItem itemValue="M" itemLabel="MASCULINO"/>
                    <f:selectItem itemValue="F" itemLabel="FEMENINO"/>
                </h:selectOneMenu>

            </h:panelGrid>

            <h:commandButton actionListener="#{empleadoBean.listar()}" value="Listar" />
            <h:commandButton actionListener="#{empleadoBean.registrar()}" value="Registrar" />

            <h:dataTable value="#{empleadoBean.lstEmpleado}" var="emp">


                <h:column>
                    <f:facet name="header">
                        <h:outputLabel value="Nombres"/>
                    </f:facet>
                    <h:outputLabel value="#{emp.nombres}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputLabel value="Apellidos"/>
                    </f:facet>
                    <h:outputLabel value="#{emp.apellidos}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputLabel value="Sexo"/>
                    </f:facet>
                    <h:outputLabel value="#{emp.sexo}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputLabel value="Eliminar"/>
                    </f:facet>
                    <h:commandLink actionListener="#{empleadoBean.eliminar(emp)}" value="Eliminar" />
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputLabel value="Modificar"/>
                    </f:facet>
                    <h:commandLink action="#{empleadoBean.leer(emp)}" value="Modificar"/>
                </h:column>

            </h:dataTable>
        </h:form>
    </body>
</html>
